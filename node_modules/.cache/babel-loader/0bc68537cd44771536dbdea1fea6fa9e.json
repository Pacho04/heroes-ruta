{"ast":null,"code":"import _slicedToArray from\"/home/david/Escritorio/React/07-heroes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useMemo}from'react';import queryString from'query-string';import{useForm}from'../../hooks/useForm';import{HeroCard}from'../heroes/HeroCard';import{useLocation}from'react-router-dom';import{getHeroesByName}from'../../selectors/getHeroesByName';export var SearchScreen=function SearchScreen(_ref){var history=_ref.history;var location=useLocation();var _queryString$parse=queryString.parse(location.search),_queryString$parse$q=_queryString$parse.q,q=_queryString$parse$q===void 0?'':_queryString$parse$q;var _useForm=useForm({searchText:q}),_useForm2=_slicedToArray(_useForm,2),formValues=_useForm2[0],handleInputChange=_useForm2[1];var searchText=formValues.searchText;var heroesFilter=useMemo(function(){return getHeroesByName(q);},[q]);var handleSearch=function handleSearch(e){e.preventDefault();history.push(\"?q=\".concat(searchText));};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Search Screen\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-5\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Search Form\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSearch},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Find you Hero\",className:\"form-control\",name:\"searchText\",value:searchText,onChange:handleInputChange}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-outline-primary mt-2 magnifyText\"},\" Search \"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-7\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Result\"),/*#__PURE__*/React.createElement(\"hr\",null),q===''&&/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-info\"},\"Search a hero\"),q!==''&&heroesFilter.length===0&&/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\"},\"There is no a hero with \",q),/*#__PURE__*/React.createElement(\"div\",null,heroesFilter.map(function(hero){return/*#__PURE__*/React.createElement(HeroCard,Object.assign({key:hero.id},hero));})))));};","map":{"version":3,"sources":["/home/david/Escritorio/React/07-heroes-app/src/components/search/SearchScreen.js"],"names":["React","useMemo","queryString","useForm","HeroCard","useLocation","getHeroesByName","SearchScreen","history","location","parse","search","q","searchText","formValues","handleInputChange","heroesFilter","handleSearch","e","preventDefault","push","length","map","hero","id"],"mappings":"iKAAA,MAAOA,CAAAA,KAAP,EAAgBC,OAAhB,KAA+B,OAA/B,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,OAASC,QAAT,KAAyB,oBAAzB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,eAAT,KAAgC,iCAAhC,CAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAEzC,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CAFyC,uBAGtBH,WAAW,CAACQ,KAAZ,CAAkBD,QAAQ,CAACE,MAA3B,CAHsB,yCAGjCC,CAHiC,CAGjCA,CAHiC,+BAG7B,EAH6B,mCAKDT,OAAO,CAAC,CAC5CU,UAAU,CAAED,CADgC,CAAD,CALN,sCAKlCE,UALkC,cAKtBC,iBALsB,iBASjCF,CAAAA,UATiC,CASlBC,UATkB,CASjCD,UATiC,CAWzC,GAAMG,CAAAA,YAAY,CAAGf,OAAO,CAAC,iBAAMK,CAAAA,eAAe,CAACM,CAAD,CAArB,EAAD,CAA2B,CAACA,CAAD,CAA3B,CAA5B,CAGA,GAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACAX,OAAO,CAACY,IAAR,cAAmBP,UAAnB,GACH,CAHD,CAKA,mBACI,4CACI,8CADJ,cAEI,8BAFJ,cAII,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,OAAf,eACI,4CADJ,cAEI,8BAFJ,cAII,4BAAM,QAAQ,CAAEI,YAAhB,eACI,6BACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,eAFhB,CAGI,SAAS,CAAC,cAHd,CAII,IAAI,CAAC,YAJT,CAKI,KAAK,CAAEJ,UALX,CAMI,QAAQ,CAAEE,iBANd,EADJ,cAUI,8BACI,IAAI,CAAC,QADT,CAEI,SAAS,CAAC,0CAFd,aAVJ,CAJJ,CADJ,cAsBI,2BAAK,SAAS,CAAC,OAAf,eACI,uCADJ,cAEI,8BAFJ,CAIMH,CAAC,GAAK,EAAP,eACG,2BAAK,SAAS,CAAC,kBAAf,kBALR,CASMA,CAAC,GAAK,EAAN,EAAYI,YAAY,CAACK,MAAb,GAAwB,CAArC,eACG,2BAAK,SAAS,CAAC,oBAAf,6BAC8BT,CAD9B,CAVR,cAeI,+BAEII,YAAY,CAACM,GAAb,CAAiB,SAAAC,IAAI,qBACjB,oBAAC,QAAD,gBACI,GAAG,CAAEA,IAAI,CAACC,EADd,EAEQD,IAFR,EADiB,EAArB,CAFJ,CAfJ,CAtBJ,CAJJ,CADJ,CAyDH,CA5EM","sourcesContent":["import React, { useMemo } from 'react';\nimport queryString from 'query-string';\nimport { useForm } from '../../hooks/useForm';\nimport { HeroCard } from '../heroes/HeroCard';\nimport { useLocation } from 'react-router-dom';\nimport { getHeroesByName } from '../../selectors/getHeroesByName';\n\nexport const SearchScreen = ({ history }) => {\n\n    const location = useLocation();\n    const { q = '' } = queryString.parse(location.search);\n\n    const [formValues, handleInputChange] = useForm({\n        searchText: q\n    });\n\n    const { searchText } = formValues;\n\n    const heroesFilter = useMemo(() => getHeroesByName(q), [q]);\n\n\n    const handleSearch = (e) => {\n        e.preventDefault();\n        history.push(`?q=${searchText}`);\n    }\n\n    return (\n        <div>\n            <h1>Search Screen</h1>\n            <hr />\n\n            <div className=\"row\">\n                <div className=\"col-5\">\n                    <h4>Search Form</h4>\n                    <hr />\n\n                    <form onSubmit={handleSearch}>\n                        <input\n                            type=\"text\"\n                            placeholder=\"Find you Hero\"\n                            className=\"form-control\"\n                            name=\"searchText\"\n                            value={searchText}\n                            onChange={handleInputChange}\n                        ></input>\n\n                        <button\n                            type=\"submit\"\n                            className=\"btn btn-outline-primary mt-2 magnifyText\"\n                        > Search </button>\n                    </form>\n                </div>\n\n                <div className=\"col-7\">\n                    <h4>Result</h4>\n                    <hr />\n\n                    {(q === '') &&\n                        <div className=\"alert alert-info\">\n                            Search a hero\n                        </div>\n                    }\n                    {(q !== '' && heroesFilter.length === 0) &&\n                        <div className=\"alert alert-danger\">\n                            There is no a hero with { q }\n                        </div>\n                    }\n\n                    <div>\n                    {\n                        heroesFilter.map(hero => (\n                            <HeroCard\n                                key={hero.id}\n                                {...hero}\n                            />\n                        ))\n                    }\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}